import { Start as fD } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fE, MarkResizable as fF, SetOptional as fG, GetOptional as fH, CreateFuncWithArgs as fI, DeleteEmptyFields as fJ, Force as fK, Create as fL, OnLoad as fM } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fN){ return"Dispose"in fN;}
function b(){ const fN=globalThis.document.querySelector(".observer-box");if(!(fN==null))c(fN);const fO=new n("New_1");const fP=Q(fO.k, fO.h, []);const fQ=new i(fP[1], z(fP[0]));let fR=(fO.i=fQ,fQ);const fS=fR.Doc;S("");$.RunById("main", fS);}
function c(fN){ let fO;(new IntersectionObserver((fP) => {(((fT) => fT("for each"))((fT) => { console.log(fT);}));for(let fT=0, fU=fP.length-1;fT<=fU;fT++){ const fQ=j(fP, fT);const fR=fQ.target;const fS=fQ.isIntersecting;(((fV) => fV("Observed: "+String(fR)+", isIntersecting: "+String(fS)))((fV) => { console.log(fV);}));if(fQ.isIntersecting){(((fV) => fV("Add visible"))((fV) => { console.log(fV);}));fQ.target.classList.add("visible");} else {(((fV) => fV("Remove visible"))((fV) => { console.log(fV);}));fQ.target.classList.remove("visible");} } }, (fO={},fO.threshold=0.5,fO))).observe(fN);}
function d(fN){ let fO=[];let fP;for(var fQ in fN)fO.push(fN[fQ]);return fO;}
function e(fN){ throw new Error(fN);}
function f(fN){ return[fN.K, fN.V];}
function g(fN, fO){ const fP=1+fO-fN;return fP<=0?[]:bn(fP, (fQ) => fQ+fN);}
let h=fE((fN) => class fO { static { h=fN(this);} Equals(fP){ return this===fP;} GetHashCode(){ return -1;} });
let i=fE((fN) => class fO extends h { static { i=fN(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(fP, fQ){ super();this.doc=fQ;this.allVars=fP.$==0?fP.$0:e("Should not happen");this.anchorRoot=null;} });
function j(fN, fO){ k(fN, fO);return fN[fO];}
function k(fN, fO){ if(fO<0||fO>=fN.length)e("Index was outside the bounds of the array.");}
function l(fN, fO, fP){ k(fN, fO);fN[fO]=fP;}
function m(fN){ return fN.dims===2?fN.length*fN.length:fN.length;}
let n=fE((fN) => class fO extends h { static { n=fN(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(fP){ if(fP=="New_1"){ let fQ;super();this.i=null;this.k=(fQ=P(),String(fQ));this.h=fF([]);fG(this, "s", null);} } });
function o(fN, fO){ if(fN===fO)return true;else { const fP=typeof fN;if(fP=="object"){ if(fN===null||fN===void 0||fO===null||fO===void 0||!o(typeof fO, "object"))return false;else if("Equals"in fN)return fN.Equals(fO);else if("Equals"in fO)return false;else if(fN instanceof Array&&fO instanceof Array)return p(fN, fO);else if(fN instanceof Date&&fO instanceof Date)return q(fN, fO);else { const fQ=[true];let fR;for(var fT in fN)if(((fU) => { fQ[0]=!fN.hasOwnProperty(fU)||fO.hasOwnProperty(fU)&&o(fN[fU], fO[fU]);return!fQ[0];})(fT))break;if(fQ[0]){ let fS;for(var fU in fO)if(((fV) => { fQ[0]=!fO.hasOwnProperty(fV)||fN.hasOwnProperty(fV);return!fQ[0];})(fU))break;} return fQ[0];} } else return fP=="function"&&("$Func"in fN?fN.$Func===fO.$Func&&fN.$Target===fO.$Target:"$Invokes"in fN&&"$Invokes"in fO&&p(fN.$Invokes, fO.$Invokes));} }
function p(fN, fO){ let fP;let fQ;if(m(fN)===m(fO)){ fP=true;fQ=0;while(fP&&fQ<m(fN)){!o(j(fN, fQ), j(fO, fQ))?fP=false:void 0;fQ=fQ+1;} return fP;} else return false;}
function q(fN, fO){ return fN.getTime()===fO.getTime();}
function r(fN){ const fO=typeof fN;return fO=="function"?0:fO=="boolean"?fN?1:0:fO=="number"?fN:fO=="string"?s(fN):fO=="object"?fN==null?0:fN instanceof Array?t(fN):u(fN):0;}
function s(fN){ let fO;if(fN===null)return 0;else { fO=5381;for(let fP=0, fQ=fN.length-1;fP<=fQ;fP++)fO=v(fO, fN[fP].charCodeAt());return fO;} }
function t(fN){ let fO=-34948909;for(let fP=0, fQ=m(fN)-1;fP<=fQ;fP++)fO=v(fO, r(j(fN, fP)));return fO;}
function u(fN){ if("GetHashCode"in fN)return fN.GetHashCode();else { const fO=[0];let fP;for(var fQ in fN)if(((fR) => { fO[0]=v(v(fO[0], s(fR)), r(fN[fR]));return false;})(fQ))break;return fO[0];} }
function v(fN, fO){ return(fN<<5)+fN+fO;}
function w(fN, fO){ if(fN===fO)return 0;else { const fP=typeof fN;switch(fP=="function"?1:fP=="boolean"?2:fP=="number"?2:fP=="string"?2:fP=="object"?3:0){ case 0:return typeof fO=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return fN<fO?-1:1;case 3:if(fN===null)return -1;else if(fO===null)return 1;else if("CompareTo"in fN)return fN.CompareTo(fO);else if("CompareTo0"in fN)return fN.CompareTo0(fO);else if(fN instanceof Array&&fO instanceof Array)return x(fN, fO);else if(fN instanceof Date&&fO instanceof Date)return y(fN, fO);else { const fQ=[0];let fR;for(var fT in fN)if(((fU) =>!fN.hasOwnProperty(fU)?false:!fO.hasOwnProperty(fU)?(fQ[0]=1,true):(fQ[0]=w(fN[fU], fO[fU]),fQ[0]!==0))(fT))break;if(fQ[0]===0){ let fS;for(var fU in fO)if(((fV) =>!fO.hasOwnProperty(fV)?false:!fN.hasOwnProperty(fV)&&(fQ[0]=-1,true))(fU))break;} return fQ[0];} break;} } }
function x(fN, fO){ let fP;let fQ;if(m(fN)<m(fO))return -1;else if(m(fN)>m(fO))return 1;else { fP=0;fQ=0;while(fP===0&&fQ<m(fN)){ fP=w(j(fN, fQ), j(fO, fQ));fQ=fQ+1;} return fP;} }
function y(fN, fO){ return w(fN.getTime(), fO.getTime());}
function z(fN){ S("index");return fN?T("index", R("main"), fN):void 0;}
function A(fN, fO){ const fP=[];for(let fR=0, fS=fO.length-1;fR<=fS;fR++){ const fQ=fN(fO[fR]);if(fQ==null){ } else fP.push(fQ.$0);} return fP;}
function B(fN, fO){ let fP=null;let fQ=0;while(fQ<fO.length&&fP==null){ fN(fO[fQ])?fP=R(fQ):void 0;fQ=fQ+1;} return fP;}
function C(fN, fO){ let fP=null;let fQ=0;while(fQ<fO.length&&fP==null){ const fR=fN(fO[fQ]);if(fR!=null&&fR.$==1)fP=fR;fQ=fQ+1;} return fP;}
function D(fN, fO){ let fP=false;let fQ=0;while(!fP&&fQ<m(fO))if(fN(fO[fQ]))fP=true;else fQ=fQ+1;return fP;}
function E(fN){ return Array.prototype.concat.apply([], J(fN));}
function F(fN, fO){ for(let fP=0, fQ=fO.length-1;fP<=fQ;fP++)fN(fO[fP]);}
function G(fN, fO, fP){ let fQ=fP;const fR=fO.length;for(let fS=1, fT=fR;fS<=fT;fS++)fQ=fN(fO[fR-fS], fQ);return fQ;}
function H(fN, fO){ const fP=new Array(fO.length);for(let fQ=0, fR=fO.length-1;fQ<=fR;fQ++)fP[fQ]=fN(fO[fQ]);return fP;}
function I(fN, fO){ const fP=[];for(let fQ=0, fR=fO.length-1;fQ<=fR;fQ++)if(fN(fO[fQ]))fP.push(fO[fQ]);return fP;}
function J(fN){ if(fN instanceof Array)return fN.slice();else if(fN instanceof dV)return L(fN);else { const fO=[];const fP=bJ(fN);try { while(fP.MoveNext())fO.push(fP.Current);return fO;} finally { if(typeof fP=="object"&&a(fP))fP.Dispose();} } }
function K(fN, fO){ const fP=C(fN, fO);return fP==null?e("KeyNotFoundException"):fP.$0;}
function L(fN){ const fO=[];let fP=fN;while(!(fP.$==0)){ fO.push(eW(fP));fP=eX(fP);} return fO;}
function M(fN, fO){ let fP=true;let fQ=0;while(fP&&fQ<m(fO))if(fN(fO[fQ]))fQ=fQ+1;else fP=false;return fP;}
function N(fN, fO){ const fP=new Array(fN);for(let fQ=0, fR=fN-1;fQ<=fR;fQ++)fP[fQ]=fO;return fP;}
function O(fN, fO){ if(fN<0)e("Negative size given.");else null;const fP=new Array(fN);for(let fQ=0, fR=fN-1;fQ<=fR;fQ++)fP[fQ]=fO(fQ);return fP;}
function P(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fN) => { const fO=Math.random()*16|0;const fP=fN=="x"?fO:fO&3|8;return fP.toString(16);});}
function Q(fN, fO, fP){ const fQ=new bb("New_5");const fR=new bd("New_3");const fS=bJ(fO);try { while(fS.MoveNext()){ const fT=fS.Current;const fU=fT.Name;fR.SAdd(fU);fQ.set_Item(fU, fT);} } finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} return[be(fO, A((fV) => { const fW=fV[0];const fX=fV[1];const fY=fV[2];if(fR.Contains(fW))return null;else { const fZ=fX===0?bt.GetOrAddHoleFor(fN, fW, () => { const f0=fY==null?null:R(fY.$0);let f1=bv.Create_1(f0==null?"":f0.$0);return new bu(fW, f1);}):fX===1?bt.GetOrAddHoleFor(fN, fW, () => { const f0=fY==null?null:R(fY.$0);let f1=bv.Create_1(f0==null?0:f0.$0);return new bw(fW, f1);}):fX===2?bt.GetOrAddHoleFor(fN, fW, () => { const f0=fY==null?null:R(fY.$0);let f1=bv.Create_1(f0==null?false:f0.$0);return new bx(fW, f1);}):fX===3?bt.GetOrAddHoleFor(fN, fW, () => { const f0=fY==null?null:R(fY.$0);let f1=bv.Create_1(f0==null?-8640000000000000:f0.$0);return new by(fW, f1);}):fX===4?bt.GetOrAddHoleFor(fN, fW, () => new bz(fW, bv.Create_1([]))):fX===5?bt.GetOrAddHoleFor(fN, fW, () => new bA(fW, bv.Create_1(R(globalThis.document.querySelector("[ws-dom="+fW+"]"))))):fX===6?bt.GetOrAddHoleFor(fN, fW, () => { const f0=fY==null?null:R(fY.$0);let f1=bv.Create_1(f0==null?[]:f0.$0);return new bB(fW, f1);}):e("Invalid value type");fQ.set_Item(fW, fZ);return R(fZ);} }, fP)), {$:0, $0:fQ}];}
function R(fN){ return{$:1, $0:fN};}
function S(fN){!U()?(V(true),W(globalThis.document.body, "")):void 0;X().set_Item(fN, Y(""));}
function T(fN, fO, fP){ let fQ;const fR=(fQ=null,[Y(fN).TryGetValue(fO==null?"":fO.$0, {get:() => fQ, set:(fS) => { fQ=fS;}}), fQ]);return fR[0]?Z(fR[1].cloneNode(true), fP):(console.warn("Local template doesn't exist", fO),$.Empty);}
function U(){ return cb.LocalTemplatesLoaded;}
function V(fN){ cb.LocalTemplatesLoaded=fN;}
function W(fN, fO){ const fP=Y(fO);const fQ=new bb("New_5");const fR=fN.querySelectorAll("[ws-template]");for(let f3=0, f4=fR.length-1;f3<=f4;f3++){ const fS=fR[f3];const fT=fS.getAttribute("ws-template").toLowerCase();fS.removeAttribute("ws-template");fQ.set_Item(fT, u0030(fS));} const fU=fN.querySelectorAll("[ws-children-template]");for(let f5=0, f6=fU.length-1;f5<=f6;f5++){ const fV=fU[f5];const fW=fV.getAttribute("ws-children-template").toLowerCase();fV.removeAttribute("ws-children-template");fQ.set_Item(fW, u0031(fV));} const fX=fN.querySelectorAll("template[id]");for(let f7=0, f8=fX.length-1;f7<=f8;f7++){ const fY=fX[f7];fQ.set_Item(fY.getAttribute("id").toLowerCase(), u0032(fY));} const fZ=fN.querySelectorAll("template[name]");for(let f9=0, f_=fZ.length-1;f9<=f_;f9++){ const f0=fZ[f9];fQ.set_Item(f0.getAttribute("name").toLowerCase(), u0032(f0));} const f1=new bd("New_3");function f2(f$){ if(!fP.ContainsKey(f$)){ let ga;const gb=(ga=null,[fQ.TryGetValue(f$, {get:() => ga, set:(gc) => { ga=gc;}}), ga]);if(gb[0]){ f1.SAdd(f$);fQ.RemoveKey(f$);u0033(fO, R(f$), gb[1], R(f2));} else console.warn(f1.Contains(f$)?"Encountered loop when instantiating "+f$:"Local template does not exist: "+f$);} } while(fQ.count>0)f2(bf(fQ.Keys));}
function X(){ return cb.LoadedTemplates;}
function Y(fN){ let fO;const fP=(fO=null,[X().TryGetValue(fN, {get:() => fO, set:(fR) => { fO=fR;}}), fO]);if(fP[0])return fP[1];else { const fQ=new bb("New_5");X().set_Item(fN, fQ);return fQ;} }
function Z(fN, fO){ let fP;const fQ=u0034(fN, be(fO, u0035().Values));const fR=fQ[1];const fS=fQ[0];const fT=fS.Els;return!o(fT, null)&&fT.length===1&&(j(fT, 0)instanceof Node&&(o(j(fT, 0).nodeType, Node.ELEMENT_NODE)&&(fP=j(fT, 0),true)))?cD.TreeNode(fS, fR):$.Mk(bD(fS), fR);}
function u0030(fN){ fN.removeAttribute("ws-template");const fO=fN.getAttribute("ws-replace");if(fO==null){ } else { fN.removeAttribute("ws-replace");const fP=fN.parentNode;if(o(fP, null)){ } else { const fQ=globalThis.document.createElement(fN.tagName);fQ.setAttribute("ws-replace", fO);fP.replaceChild(fQ, fN);} } const fR=globalThis.document.createElement("div");fR.appendChild(fN);return fR;}
function u0031(fN){ const fO=globalThis.document.createElement("div");while(fN.hasChildNodes())fO.appendChild(fN.firstChild);return fO;}
function u0032(fN){ const fO=globalThis.document.createElement("div");const fP=fN.content;for(let fQ=0, fR=fP.childNodes.length-1;fQ<=fR;fQ++)fO.appendChild(fP.childNodes[fQ].cloneNode(true));return fO;}
function u0033(fN, fO, fP, fQ){ const fR=new bd("New_3");function fS(fZ, f0){ while(true)switch(fZ){ case 0:if(f0!==null){ const f1=f0.nextSibling;if(o(f0.nodeType, Node.TEXT_NODE))cM(f0);else if(o(f0.nodeType, Node.ELEMENT_NODE))fU(f0);f0=f1;} else return null;break;case 1:const f2=cU(f0.nodeName, R(3), null).toLowerCase();const f3=f2.indexOf(".");const f4=f3===-1?[fN, f2]:[cU(f2, null, R(f3-1)), cU(f2, R(f3+1), null)];const f5=f4[1];const f6=f4[0];if(f6!=""&&!X().ContainsKey(f6))return cN(f5);else { if(f6==""&&fQ!=null)fQ.$0(f5);const f7=X().Item(f6);if(!f7.ContainsKey(f5))return cN(f5);else { const f8=f7.Item(f5);const f9=f8.cloneNode(true);const f_=new bd("New_3");const f$=new bb("New_5");const ga=f0.attributes;for(let gk=0, gl=ga.length-1;gk<=gl;gk++){ const gb=ga.item(gk).name.toLowerCase();const gc=ga.item(gk).nodeValue;let gd=gc==""?gb:gc.toLowerCase();f$.set_Item(gb, gd);if(!f_.SAdd(gb))console.warn("Hole mapped twice", gb);} for(let gm=0, gn=f0.childNodes.length-1;gm<=gn;gm++){ const ge=f0.childNodes[gm];if(o(ge.nodeType, Node.ELEMENT_NODE))if(!f_.SAdd(ge.nodeName.toLowerCase()))console.warn("Hole filled twice", f5);} const gf=f0.childNodes.length===1&&o(f0.firstChild.nodeType, Node.TEXT_NODE);if(gf){ const gg=cO(f9, f0.firstChild.textContent, f5);const gh=((go) =>(gp) => go.SAdd(gp))(f_);let gi=((go) =>(gp) => { if(gp!=null)go(gp.$0);})((go) => { gh(go);});gi(gg);} cP(f9, f_);if(!gf){ for(let go=0, gp=f0.childNodes.length-1;go<=gp;go++){ const gj=f0.childNodes[go];if(o(gj.nodeType, Node.ELEMENT_NODE))if(gj.hasAttributes())cQ(f9, gj);else fT(f9, gj);} } cR(f9, f$);cS(f9, f0.parentNode, f0);f0.parentNode.removeChild(f0);return;} } break;} } function fT(fZ, f0){ const f1=f0.nodeName.toLowerCase();const f2=(f6, f7) => { if(f1=="title"&&f0.hasChildNodes()){ const f8=cV(f0.textContent);f0.removeChild(f0.firstChild);while(f8.hasChildNodes())f0.appendChild(f8.firstChild);} fU(f0);return cS(f0, f6, f7);};u0036(fZ, "[ws-attr-holes]", (f6) => { const f7=dX(f6.getAttribute("ws-attr-holes"), [" "], 1);for(let f$=0, ga=f7.length-1;f$<=ga;f$++){ const f8=j(f7, f$);let f9=new RegExp("\\${"+f1+"}", "ig");let f_=f6.getAttribute(f8).replace(f9, f0.textContent);f6.setAttribute(f8, f_);} });const f3=fZ.querySelector("[ws-hole="+f1+"]");if(o(f3, null)){ const f4=fZ.querySelector("[ws-replace="+f1+"]");if(o(f4, null)){ const f5=fZ.querySelector("slot[name="+f1+"]");return fZ.tagName.toLowerCase()=="template"?(f2(f5.parentNode, f5),void f5.parentNode.removeChild(f5)):null;} else { f2(f4.parentNode, f4);f4.parentNode.removeChild(f4);return;} } else { while(f3.hasChildNodes())f3.removeChild(f3.lastChild);f3.removeAttribute("ws-hole");return f2(f3, null);} } function fU(fZ){ if(!fZ.hasAttribute("ws-preserve"))if(dY(fZ.nodeName.toLowerCase(), "ws-"))fW(fZ);else { cT(fZ);fV(fZ.firstChild);} } function fV(fZ){ return fS(0, fZ);} function fW(fZ){ return fS(1, fZ);} function fX(fZ){ while(true){ const f0=fZ.querySelector("[ws-template]");if(o(f0, null)){ const f1=fZ.querySelector("[ws-children-template]");if(o(f1, null)){ const f2=fZ.querySelectorAll("template[id]");for(let f8=1, f9=f2.length-1;f8<=f9;f8++){ const f3=f2[f8];if(fR.Contains(f3)){ } else { u0033(fN, R(f3.getAttribute("id")), f3, null);fR.SAdd(f3);} } const f4=fZ.querySelectorAll("template[name]");for(let f_=1, f$=f4.length-1;f_<=f$;f_++){ const f5=f4[f_];if(fR.Contains(f5)){ } else { u0033(fN, R(f5.getAttribute("name")), f5, null);fR.SAdd(f5);} } return null;} else { const f6=f1.getAttribute("ws-children-template");f1.removeAttribute("ws-children-template");u0033(fN, R(f6), f1, null);fZ=fZ;} } else { const f7=f0.getAttribute("ws-template");(u0037(fN, R(f7), f0))(null);fZ=fZ;} } } const fY=(fO==null?"":fO.$0).toLowerCase();Y(fN).set_Item(fY, fP);if(fP.hasChildNodes()){ fX(fP);fV(fP.firstChild);} }
function u0034(fN, fO){ let fP;const fQ=[];const fR=[];const fS=[];const fT=[];const fU=new bb("New_5");const fV=bJ(fO);try { while(fV.MoveNext()){ const fW=fV.Current;fU.set_Item(fW.Name, fW);} } finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} let fX=cW(fN);const fY=(f7, f8) => { const f9=dj(f7, f8);fR.push(dk(f9));fS.push([f7, f9]);const f_=fH(f9.OnAfterRender);if(f_==null)return null;else { const f$=f_.$0;fT.push(() => { f$(f7);});return;} };const fZ=(f7) => { let f8;const f9=(f8=null,[fU.TryGetValue(f7, {get:() => f8, set:(ga) => { f8=ga;}}), f8]);if(f9[0]){ const f_=f9[1];if(f_ instanceof dA)return R(f_.Value);else if(f_ instanceof dB)return R($.TextNode(f_.Value));else { const f$=f_.ForTextView();return f$==null?null:R($.TextView(f$.$0));} } else return null;};u0036(fN, "[ws-hole]", (f7) => { const f8=f7.getAttribute("ws-hole");f7.removeAttribute("ws-hole");while(f7.hasChildNodes())f7.removeChild(f7.lastChild);const f9=fZ(f8);if(f9!=null&&f9.$==1){ const f_=f9.$0;cc(f7, f_.docNode);fQ.push(cw.New(dl(f7), f_.docNode, null, f7, cx(), null));fR.push(f_.updates);} });u0036(fN, "[ws-replace]", (f7) => { const f8=fZ(f7.getAttribute("ws-replace"));if(f8!=null&&f8.$==1){ const f9=f8.$0;const f_=f7.parentNode;const f$=globalThis.document.createTextNode("");f_.replaceChild(f$, f7);const ga=ch(f$, f9.docNode);fX=cW(fN);const gb=B((gc) => f7===gc, fX);if(gb==null){ } else l(fX, gb.$0, f9.docNode);fQ.push(cw.New(dl(f_), f9.docNode, R([ga, f$]), f_, cx(), null));fR.push(f9.updates);} });let f0=false;u0036(fN, "slot", (f7) => { const f8=f7.getAttribute("name");const f9=f8==""||f8==null?"default":f8.toLowerCase();if(f0&&f9=="default"||!o(fN.parentElement, null)){ } else { while(f7.hasChildNodes())f7.removeChild(f7.lastChild);if(f9=="default")f0=true;const f_=fZ(f9);if(f_!=null&&f_.$==1){ const f$=f_.$0;cc(f7, f$.docNode);fQ.push(cw.New(dl(f7), f$.docNode, null, f7, cx(), null));fR.push(f$.updates);} } });u0036(fN, "[ws-attr]", (f7) => { let f8;const f9=f7.getAttribute("ws-attr");f7.removeAttribute("ws-attr");const f_=(f8=null,[fU.TryGetValue(f9, {get:() => f8, set:(ga) => { f8=ga;}}), f8]);if(f_[0]){ const f$=f_[1];if(f$ instanceof dC)fY(f7, f$.Value);else console.warn("Attribute hole filled with non-attribute data", f9);} });u0036(fN, "[ws-on]", (f7) => { fY(f7, dQ.Concat(A((f8) => { let f9;const f_=dX(f8, [":"], 1);const f$=(f9=null,[fU.TryGetValue(j(f_, 1), {get:() => f9, set:(gb) => { f9=gb;}}), f9]);if(f$[0]){ const ga=f$[1];return ga instanceof dD?R(dE(j(f_, 0), ga.Value)):ga instanceof dP?R(dQ.Handler(j(f_, 0), ga.Value)):(console.warn("Event hole on"+j(f_, 0)+" filled with non-event data", j(f_, 1)),null);} else return null;}, dX(f7.getAttribute("ws-on"), [" "], 1))));f7.removeAttribute("ws-on");});u0036(fN, "[ws-onafterrender]", (f7) => { let f8;const f9=f7.getAttribute("ws-onafterrender");const f_=(f8=null,[fU.TryGetValue(f9, {get:() => f8, set:(ga) => { f8=ga;}}), f8]);if(f_[0]){ const f$=f_[1];if(f$ instanceof dR){ f7.removeAttribute("ws-onafterrender");fY(f7, dF(f$.Value));} else if(f$ instanceof dS){ f7.removeAttribute("ws-onafterrender");fY(f7, dF(f$.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", f9);} });u0036(fN, "[ws-var]", (f7) => { let f8;const f9=f7.getAttribute("ws-var");f7.removeAttribute("ws-var");const f_=(f8=null,[fU.TryGetValue(f9, {get:() => f8, set:(f$) => { f8=f$;}}), f8]);if(f_[0])f_[1].AddAttribute((f$) =>(ga) => fY(f$, ga), f7);});const f1=() => { u0038("[ws-dom]", (f7) => { let f8;let f9;let f_;const f$=(f8=null,[fU.TryGetValue(f7.getAttribute("ws-dom").toLowerCase(), {get:() => f8, set:(gd) => { f8=gd;}}), f8]);if(f$[0]){ const ga=f$[1];if(ga instanceof bA){ const gb=ga.Value;f7.removeAttribute("ws-dom");f9=f7;const gc=new MutationObserver((gd, ge) => { F((gf) => { gf.removedNodes.forEach(fI((gg) => gg[0]===f9&&gf.addedNodes.length!==1?(gb.SetFinal(null),ge.disconnect()):null), null);}, gd);});if(f7.parentElement!==null)gc.observe(f7.parentElement, (f_={},f_.childList=true,f_));gb.Set(R(f7));cF((gd) => { if(gd!=null&&gd.$==1){ const ge=gd.$0;if(f9===ge){ } else { f9.replaceWith(ge);f9=ge;} } else { f9.remove();gc.disconnect();} }, gb.View);} } });};u0036(fN, "[ws-attr-holes]", (f7) => { const f8=new RegExp(u0039(), "g");const f9=dX(f7.getAttribute("ws-attr-holes"), [" "], 1);f7.removeAttribute("ws-attr-holes");for(let f_=0, f$=f9.length-1;f_<=f$;f_++)((() => { let ga;const gb=j(f9, f_);const gc=f7.getAttribute(gb);let gd=null;let ge=0;const gf=[];while(gd=f8.exec(gc),gd!==null){ const gg=cU(gc, R(ge), R(f8.lastIndex-j(gd, 0).length-1));ge=f8.lastIndex;gf.push([gg, j(gd, 1)]);} const gh=cU(gc, R(ge), null);f8.lastIndex=0;const gi=G((gn, go) =>(((gp) => { const gq=gp[0];const gr=gp[1];return(gs) => { let gt;const gu=gs[0];const gv=gs[1];const gw=(gt=null,[fU.TryGetValue(gr, {get:() => gt, set:(gy) => { gt=gy;}}), gt]);const gx=gw[0]?gw[1].AsChoiceView:dT("");return gx.$==1?[gq, dV.Cons(gu==""?gx.$0:cG((gy) => gy+gu, gx.$0), gv)]:[gq+gx.$0+gu, gv];};})(gn))(go), gf, [gh, dV.Empty]);if(gi[1].$==1){ if(gi[1].$1.$==1){ if(gi[1].$1.$1.$==1){ if(gi[1].$1.$1.$1.$==0){ const gj=gi[0];ga=dG(gb, cH((gn, go, gp) => gj+gn+go+gp, gi[1].$0, gi[1].$1.$0, gi[1].$1.$1.$0));} else { const gk=gi[0];ga=dG(gb, cG((gn) => gk+dW("", gn), cI(gi[1])));} } else { const gl=gi[0];ga=dG(gb, cJ((gn, go) => gl+gn+go, gi[1].$0, gi[1].$1.$0));} } else if(gi[0]=="")ga=dG(gb, gi[1].$0);else { const gm=gi[0];ga=dG(gb, cG((gn) => gm+gn, gi[1].$0));} } else ga=dQ.Create(gb, gi[0]);return fY(f7, ga);})());});let f2=fX;const f3=fT.length==0?R(() => { f1();}):R((f7) => { f1();F((f8) => { f8(f7);}, fT);});const f4=!o(fX, null)&&fX.length===1&&(j(fX, 0)instanceof Node&&(j(fX, 0)instanceof Element&&(fP=j(fX, 0),true)))?R(fP):null;let f5={Els:f2, Dirty:true, Holes:fQ, Attrs:fS, Render:f3?f3.$0:void 0, El:f4?f4.$0:void 0};let f6=fJ(f5, ["Render", "El"]);return[f6, d4(cE(), cK, fR)];}
function u0035(){ return cb.GlobalHoles;}
function u0036(fN, fO, fP){ c2(fN, fO, (fQ) => { if(fQ.closest("[ws-preserve]")==null)fP(fQ);});}
function u0037(fN, fO, fP){ const fQ=u0030(fP);return(fR) => { u0033(fN, fO, fQ, fR);};}
function u0038(fN, fO){ c3(fN, (fP) => { if(fP.closest("[ws-preserve]")==null)fO(fP);});}
function u0039(){ return cb.TextHoleRE;}
let $=fE((fN) => class fO extends h { static { $=fN(this);} docNode;updates;static RunById(fP, fQ){ const fR=globalThis.document.getElementById(fP);if(o(fR, null))e("invalid id: "+fP);else $.Run(fR, fQ);} static Run(fP, fQ){ cc(fP, fQ.docNode);$.RunInPlace(false, fP, fQ);} static get Empty(){ return $.Mk(null, cE());} static RunInPlace(fP, fQ, fR){ const fS=ce(fQ, fR.docNode);cF(c_()||df()?dg(cf(fP, fS, fR.docNode)):() => { cg(fP, fS, fR.docNode);}, fR.updates);} static Mk(fP, fQ){ return new fO(fP, fQ);} static TextNode(fP){ return $.Mk(bE(globalThis.document.createTextNode(fP)), cE());} static TextView(fP){ const fQ=cp();return $.Mk(bF(fQ), cG((fR) => { cq(fQ, fR);}, fP));} constructor(fP, fQ){ super();this.docNode=fP;this.updates=fQ;} });
function ba(fN){ const fO={};const fP=bJ(fN);try { while(fP.MoveNext()){ const fQ=fP.Current;fO[fQ[0]]=fQ[1];} } finally { if(typeof fP=="object"&&a(fP))fP.Dispose();} return fO;}
let bb=fE((fN) => class fO extends h { static { bb=fN(this);} equals;hash;count;data;set_Item(fP, fQ){ this.set(fP, fQ);} set(fP, fQ){ const fR=this.hash(fP);const fS=this.data[fR];if(fS==null){ this.count=this.count+1;this.data[fR]=new Array({K:fP, V:fQ});} else { const fT=B((fU) => this.equals.apply(null, [(f(fU))[0], fP]), fS);if(fT==null){ this.count=this.count+1;fS.push({K:fP, V:fQ});} else fS[fT.$0]={K:fP, V:fQ};} } TryGetValue(fP, fQ){ const fR=this.data[this.hash(fP)];if(fR==null)return false;else { const fS=C((fT) => { const fU=f(fT);return this.equals.apply(null, [fU[0], fP])?R(fU[1]):null;}, fR);return fS!=null&&fS.$==1&&(fQ.set(fS.$0),true);} } ContainsKey(fP){ const fQ=this.data[this.hash(fP)];return fQ==null?false:D((fR) => this.equals.apply(null, [(f(fR))[0], fP]), fQ);} RemoveKey(fP){ return this.remove(fP);} get Keys(){ return new c9(this);} GetEnumerator(){ return bM(E(d(this.data)));} get Values(){ return new d8(this);} remove(fP){ const fQ=this.hash(fP);const fR=this.data[fQ];if(fR==null)return false;else { const fS=I((fT) =>!this.equals.apply(null, [(f(fT))[0], fP]), fR);return m(fS)<fR.length&&(this.count=this.count-1,this.data[fQ]=fS,true);} } Item(fP){ return this.get(fP);} get(fP){ const fQ=this.data[this.hash(fP)];return fQ==null?bI():K((fR) => { const fS=f(fR);return this.equals.apply(null, [fS[0], fP])?R(fS[1]):null;}, fQ);} static New_5(){ return new this("New_5");} static New_6(fP, fQ, fR){ return new this("New_6", fP, fQ, fR);} constructor(fP, fQ, fR, fS){ if(fP=="New_5"){ fP="New_6";fQ=[];fR=o;fS=r;} if(fP=="New_6"){ const fT=fQ;const fU=fR;const fV=fS;super();this.equals=fU;this.hash=fV;this.count=0;this.data=[];const fW=bJ(fT);try { while(fW.MoveNext()){ const fX=fW.Current;this.set(fX.K, fX.V);} } finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } } });
let bc=fE((fN) => class fO extends h { static { bc=fN(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fP, fQ){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return dT("");} });
let bd=fE((fN) => class fO extends h { static { bd=fN(this);} equals;hash;data;count;SAdd(fP){ return this.add(fP);} Contains(fP){ const fQ=this.data[this.hash(fP)];return fQ==null?false:this.arrContains(fP, fQ);} add(fP){ const fQ=this.hash(fP);const fR=this.data[fQ];return fR==null?(this.data[fQ]=[fP],this.count=this.count+1,true):this.arrContains(fP, fR)?false:(fR.push(fP),this.count=this.count+1,true);} arrContains(fP, fQ){ let fR=true;let fS=0;const fT=fQ.length;while(fR&&fS<fT)if(this.equals.apply(null, [fQ[fS], fP]))fR=false;else fS=fS+1;return!fR;} GetEnumerator(){ return bJ(ez(this.data));} ExceptWith(fP){ const fQ=bJ(fP);try { while(fQ.MoveNext())this.Remove(fQ.Current);} finally { if(typeof fQ=="object"&&a(fQ))fQ.Dispose();} } get Count(){ return this.count;} IntersectWith(fP){ const fQ=new bd("New_4", fP, this.equals, this.hash);const fR=ez(this.data);for(let fT=0, fU=fR.length-1;fT<=fU;fT++){ const fS=fR[fT];if(!fQ.Contains(fS))this.Remove(fS);} } Remove(fP){ const fQ=this.data[this.hash(fP)];return fQ==null?false:this.arrRemove(fP, fQ)&&(this.count=this.count-1,true);} CopyTo(fP, fQ){ const fR=ez(this.data);for(let fS=0, fT=fR.length-1;fS<=fT;fS++)l(fP, fS+fQ, fR[fS]);} arrRemove(fP, fQ){ let fR=true;let fS=0;const fT=fQ.length;while(fR&&fS<fT)if(this.equals.apply(null, [fQ[fS], fP])){ fQ.splice(fS, 1);fR=false;} else fS=fS+1;return!fR;} static New_3(){ return new this("New_3");} static New_4(fP, fQ, fR){ return new this("New_4", fP, fQ, fR);} static New_2(fP){ return new this("New_2", fP);} constructor(fP, fQ, fR, fS){ if(fP=="New_3"){ fP="New_4";fQ=[];fR=o;fS=r;} let fT;if(fP=="New_2"){ fT=fQ;fP="New_4";fQ=fT;fR=o;fS=r;} if(fP=="New_4"){ const fU=fQ;const fV=fR;const fW=fS;super();this.equals=fV;this.hash=fW;this.data=[];this.count=0;const fX=bJ(fU);try { while(fX.MoveNext())this.add(fX.Current);} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} } } });
function be(fN, fO){ return{GetEnumerator:() => { const fP=bJ(fN);const fQ=[true];return new bN(fP, null, (fR) => { if(fR.s.MoveNext()){ fR.c=fR.s.Current;return true;} else { const fS=fR.s;if(!o(fS, null))fS.Dispose();fR.s=null;return fQ[0]&&(fQ[0]=false,fR.s=bJ(fO),fR.s.MoveNext()?(fR.c=fR.s.Current,true):(fR.s.Dispose(),fR.s=null,false));} }, (fR) => { const fS=fR.s;if(!o(fS, null))fS.Dispose();});}};}
function bf(fN){ const fO=bJ(fN);try { return fO.MoveNext()?fO.Current:c6();} finally { if(typeof fO=="object"&&a(fO))fO.Dispose();} }
function bg(fN, fO, fP){ let fQ=fO;const fR=bJ(fP);try { while(fR.MoveNext())fQ=fN(fQ, fR.Current);return fQ;} finally { if(typeof fR=="object"&&a(fR))fR.Dispose();} }
function bh(fN, fO){ const fP=bJ(fO);try { while(fP.MoveNext())fN(fP.Current);} finally { if(typeof fP=="object"&&a(fP))fP.Dispose();} }
function bi(fN, fO){ return{GetEnumerator:() => { const fP=bJ(fO);return new bN(null, null, (fQ) => fP.MoveNext()&&(fQ.c=fN(fP.Current),true), () => { fP.Dispose();});}};}
function bj(fN){ return{GetEnumerator:() => bJ(fN())};}
function bk(fN, fO){ return bm(bi(fN, fO));}
function bl(fN){ const fO=bJ(fN);try { if(!fO.MoveNext())bo();let fP=fO.Current;while(fO.MoveNext()){ const fQ=fO.Current;if(w(fQ, fP)===1)fP=fQ;} return fP;} finally { if(typeof fO=="object"&&a(fO))fO.Dispose();} }
function bm(fN){ return{GetEnumerator:() => { const fO=bJ(fN);function fP(fQ){ while(true){ const fR=fQ.s;if(o(fR, null)){ if(fO.MoveNext()){ fQ.s=bJ(fO.Current);fQ=fQ;} else { fO.Dispose();return false;} } else if(fR.MoveNext()){ fQ.c=fR.Current;return true;} else { fQ.Dispose();fQ.s=null;fQ=fQ;} } } return new bN(null, null, fP, (fQ) => { const fR=fQ.s;if(!o(fR, null))fR.Dispose();if(!o(fO, null))fO.Dispose();});}};}
function bn(fN, fO){ return bp(fN, bq(fO));}
function bo(){ return e("The input sequence was empty.");}
function bp(fN, fO){ fN<0?c8():void 0;return{GetEnumerator:() => { const fP=[bJ(fO)];return new bN(0, null, (fQ) => { fQ.s=fQ.s+1;if(fQ.s>fN)return false;else { const fR=fP[0];return o(fR, null)?c6():fR.MoveNext()?(fQ.c=fR.Current,fQ.s===fN?(fR.Dispose(),fP[0]=null):void 0,true):(fR.Dispose(),fP[0]=null,c6());} }, () => { const fQ=fP[0];if(!o(fQ, null))fQ.Dispose();});}};}
function bq(fN){ return{GetEnumerator:() => new bN(0, null, (fO) => { fO.c=fN(fO.s);fO.s=fO.s+1;return true;}, void 0)};}
function br(fN, fO){ return!bs((fP) =>!fN(fP), fO);}
function bs(fN, fO){ const fP=bJ(fO);try { let fQ=false;while(!fQ&&fP.MoveNext())fQ=fN(fP.Current);return fQ;} finally { if(typeof fP=="object"&&a(fP))fP.Dispose();} }
let bt=fE((fN) => class fO extends h { static { bt=fN(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fP, fQ, fR){ let fS;const fT=bt.GetHolesFor(fP);const fU=(fS=null,[fT.TryGetValue(fQ, {get:() => fS, set:(fW) => { fS=fW;}}), fS]);if(fU[0])return fU[1];else { const fV=fR();fT.set_Item(fQ, fV);return fV;} } static GetHolesFor(fP){ let fQ;const fR=(fQ=null,[bt.initialized.TryGetValue(fP, {get:() => fQ, set:(fT) => { fQ=fT;}}), fQ]);if(fR[0])return fR[1];else { const fS=new bb("New_5");bt.initialized.set_Item(fP, fS);return fS;} } static { bt.initialized=new bb("New_5");bt.instances=new bb("New_5");} });
let bu=fE((fN) => { fK(bc);return class fO extends bc { static { bu=fN(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return R(this.fillWith.View);} AddAttribute(fP, fQ){(fP(fQ))(dH(this.fillWith));} get AsChoiceView(){ return dU(cG(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} };});
let bv=fE((fN) => class fO extends h { static { bv=fN(this);} static Create_1(fP){ return new bP(false, {s:cA(fP, [])}, fP);} static { } });
let bw=fE((fN) => { fK(bc);return class fO extends bc { static { bw=fN(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return R(cG(String, this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dI(this.fillWith));} get AsChoiceView(){ return dU(cG(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} };});
let bx=fE((fN) => { fK(bc);return class fO extends bc { static { bx=fN(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return R(cG(String, this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dJ(this.fillWith));} get AsChoiceView(){ return dU(cG(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} };});
let by=fE((fN) => { fK(bc);return class fO extends bc { static { by=fN(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return R(cG((fP) =>(new Date(fP)).toLocaleString(), this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dK(this.fillWith));} get AsChoiceView(){ return dU(cG((fP) =>(new Date(fP)).toLocaleString(), this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} };});
let bz=fE((fN) => { fK(bc);return class fO extends bc { static { bz=fN(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return R(cG(String, this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dL(this.fillWith));} get AsChoiceView(){ return dU(cG(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} };});
let bA=fE((fN) => { fK(bc);return class fO extends bc { static { bA=fN(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} };});
let bB=fE((fN) => { fK(bc);return class fO extends bc { static { bB=fN(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return R(cG((fP) => dW(",", fP), this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dM(this.fillWith));} get AsChoiceView(){ return dU(cG(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} };});
let bC=fE((fN) => class fO extends h { static { bC=fN(this);} });
function bD(fN){ return{$:6, $0:fN};}
function bE(fN){ return{$:5, $0:fN};}
function bF(fN){ return{$:4, $0:fN};}
let bG=fE((fN) => class fO { static { bG=fN(this);} });
function bH(fN, fO){ return fv(fN, -2147483648, 2147483647, fO);}
function bI(){ throw new eI("New");}
function bJ(fN){ return fN instanceof Array?bK(fN):o(typeof fN, "string")?bL(fN):fN.GetEnumerator();}
function bK(fN){ return new bN(0, null, (fO) => { const fP=fO.s;return fP<m(fN)&&(fO.c=j(fN, fP),fO.s=fP+1,true);}, void 0);}
function bL(fN){ return new bN(0, null, (fO) => { const fP=fO.s;return fP<fN.length&&(fO.c=fN[fP],fO.s=fP+1,true);}, void 0);}
function bM(fN){ return fN instanceof Array?bK(fN):o(typeof fN, "string")?bL(fN):"GetEnumerator0"in fN?fN.GetEnumerator0():fN.GetEnumerator();}
let bN=fE((fN) => class fO extends h { static { bN=fN(this);} s;c;n;d;e;MoveNext(){ const fP=this.n(this);this.e=fP?1:2;return fP;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fP, fQ, fR, fS){ super();this.s=fP;this.c=fQ;this.n=fR;this.d=fS;this.e=0;} });
let bO=fE((fN) => class fO extends h { static { bO=fN(this);} });
let bP=fE((fN) => { fK(bO);return class fO extends bO { static { bP=fN(this);} isConst;current;snap;view;id;SetFinal(fP){ if(this.isConst)(((fQ) => fQ("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fQ) => { console.log(fQ);}));else { di(this.snap);this.isConst=true;this.current=fP;this.snap={s:cB(fP)};} } Set(fP){ if(this.isConst)(((fQ) => fQ("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fQ) => { console.log(fQ);}));else { di(this.snap);this.current=fP;this.snap={s:cA(fP, [])};} } get View(){ return this.view;} Get(){ return this.current;} UpdateMaybe(fP){ const fQ=fP(this.Get());if(fQ!=null&&fQ.$==1)this.Set(fQ.$0);} constructor(fP, fQ, fR){ super();this.isConst=fP;this.current=fR;this.snap=fQ;this.view=() => this.snap;this.id=cx();} };});
function bQ(fN, fO, fP){ const fQ=fN.s;if(fQ==null)fP();else fQ!=null&&fQ.$==2?(fQ.$1.push(fP),fO(fQ.$0)):fQ!=null&&fQ.$==3?(fQ.$0.push(fO),fQ.$1.push(fP)):fO(fQ.$0);}
function bR(fN, fO){ const fP=fO.s;if(fP!=null&&fP.$==0)return{s:cB(fN(fP.$0))};else { const fQ={s:cC([], [])};bY(fO, (fR) => { bZ(fQ, fO, fN(fR));}, fQ);return fQ;} }
function bS(fN, fO, fP, fQ){ const fR=fO.s;const fS=fP.s;const fT=fQ.s;if(fR!=null&&fR.$==0)return fS!=null&&fS.$==0?fT!=null&&fT.$==0?{s:cB(fN(fR.$0, fS.$0, fT.$0))}:b0(fN, fR.$0, fS.$0, fQ):fT!=null&&fT.$==0?b1(fN, fR.$0, fT.$0, fP):b2(fN, fR.$0, fP, fQ);else if(fS!=null&&fS.$==0)return fT!=null&&fT.$==0?b3(fN, fS.$0, fT.$0, fO):b4(fN, fS.$0, fO, fQ);else if(fT!=null&&fT.$==0)return b5(fN, fT.$0, fO, fP);else { const fU={s:cC([], [])};const fV=() => { const fW=fU.s;if(!(fW!=null&&fW.$==0||fW!=null&&fW.$==2)){ const fX=b6(fO);const fY=b6(fP);const fZ=b6(fQ);if(fX!=null&&fX.$==1)if(fY!=null&&fY.$==1)if(fZ!=null&&fZ.$==1)if(fX.$0[1]&&fY.$0[1]&&fZ.$0[1])b7(fU, fN(fX.$0[0], fY.$0[0], fZ.$0[0]));else b8(fU, fN(fX.$0[0], fY.$0[0], fZ.$0[0]));} };bY(fO, fV, fU);bY(fP, fV, fU);bY(fQ, fV, fU);return fU;} }
function bT(fN){ const fO=J(fN);if(fO.length==0)return{s:cB([])};else { const fP={s:cC([], [])};const fQ=[m(fO)-1];const fR=() => { if(fQ[0]===0){ const fS=H((fT) => { const fU=fT.s;return fU!=null&&fU.$==0?fU.$0:fU!=null&&fU.$==2?fU.$0:e("value not found by View.Sequence");}, fO);if(M((fT) => { const fU=fT.s;return fU!=null&&fU.$==0;}, fO))b7(fP, fS);else b8(fP, fS);} else fQ[0]=fQ[0]-1;};F((fS) => { bY(fS, fR, fP);}, fO);return fP;} }
function bU(fN, fO, fP){ const fQ=fO.s;const fR=fP.s;if(fQ!=null&&fQ.$==0)return fR!=null&&fR.$==0?{s:cB(fN(fQ.$0, fR.$0))}:b9(fN, fQ.$0, fP);else if(fR!=null&&fR.$==0)return b_(fN, fR.$0, fO);else { const fS={s:cC([], [])};const fT=() => { const fU=fS.s;if(!(fU!=null&&fU.$==0||fU!=null&&fU.$==2)){ const fV=b6(fO);const fW=b6(fP);if(fV!=null&&fV.$==1)if(fW!=null&&fW.$==1)if(fV.$0[1]&&fW.$0[1])b7(fS, fN(fV.$0[0], fW.$0[0]));else b8(fS, fN(fV.$0[0], fW.$0[0]));} };bY(fO, fT, fS);bY(fP, fT, fS);return fS;} }
function bV(fN, fO){ const fP=fN.s;const fQ=fO.s;if(fP!=null&&fP.$==0)return fQ!=null&&fQ.$==0?{s:cB(null)}:fO;else if(fQ!=null&&fQ.$==0)return fN;else { const fR={s:cC([], [])};const fS=() => { const fT=fR.s;if(!(fT!=null&&fT.$==0||fT!=null&&fT.$==2)){ const fU=b6(fN);const fV=b6(fO);if(fU!=null&&fU.$==1)if(fV!=null&&fV.$==1)if(fU.$0[1]&&fV.$0[1])b7(fR, null);else b8(fR, null);} };bY(fN, fS, fR);bY(fO, fS, fR);return fR;} }
function bW(fN){ const fO=fN.s;if(fO==null)return fN;else if(fO!=null&&fO.$==2){ const fP={s:cA(fO.$0, [])};b$(fN, fP);return fP;} else if(fO!=null&&fO.$==3){ const fQ={s:cC([], [])};bY(fN, (fR) => { bZ(fQ, fN, fR);}, fQ);return fQ;} else return fN;}
function bX(fN, fO){ const fP=fN.s;if(fP==null)fO();else fP!=null&&fP.$==2?fP.$1.push(fO):fP!=null&&fP.$==3?fP.$1.push(fO):void 0;}
function bY(fN, fO, fP){ const fQ=fN.s;if(fQ==null)di(fP);else fQ!=null&&fQ.$==2?(ca(fQ.$1, fP),fO(fQ.$0)):fQ!=null&&fQ.$==3?(fQ.$0.push(fO),ca(fQ.$1, fP)):fO(fQ.$0);}
function bZ(fN, fO, fP){ const fQ=fO.s;if(fQ!=null&&fQ.$==0)b7(fN, fP);else b8(fN, fP);}
function b0(fN, fO, fP, fQ){ return bR((fR) => fN(fO, fP, fR), fQ);}
function b1(fN, fO, fP, fQ){ return bR((fR) => fN(fO, fR, fP), fQ);}
function b2(fN, fO, fP, fQ){ return bU((fR, fS) => fN(fO, fR, fS), fP, fQ);}
function b3(fN, fO, fP, fQ){ return bR((fR) => fN(fR, fO, fP), fQ);}
function b4(fN, fO, fP, fQ){ return bU((fR, fS) => fN(fR, fO, fS), fP, fQ);}
function b5(fN, fO, fP, fQ){ return bU((fR, fS) => fN(fR, fS, fO), fP, fQ);}
function b6(fN){ const fO=fN.s;return fO!=null&&fO.$==0?R([fO.$0, true]):fO!=null&&fO.$==2?R([fO.$0, false]):null;}
function b7(fN, fO){ const fP=fN.s;if(fP!=null&&fP.$==3){ fN.s=cB(fO);const fQ=fP.$0;for(let fR=0, fS=m(fQ)-1;fR<=fS;fR++)(j(fQ, fR))(fO);} else void 0;}
function b8(fN, fO){ const fP=fN.s;if(fP!=null&&fP.$==3){ fN.s=cA(fO, fP.$1);const fQ=fP.$0;for(let fR=0, fS=m(fQ)-1;fR<=fS;fR++)(j(fQ, fR))(fO);} else void 0;}
function b9(fN, fO, fP){ return bR((fQ) => fN(fO, fQ), fP);}
function b_(fN, fO, fP){ return bR((fQ) => fN(fQ, fO), fP);}
function b$(fN, fO){ const fP=fN.s;if(fP==null)di(fO);else fP!=null&&fP.$==2?ca(fP.$1, fO):fP!=null&&fP.$==3?ca(fP.$1, fO):void 0;}
function ca(fN, fO){ fN.push(fO);if(fN.length%20===0){ const fP=fN.slice(0);fB(fN);for(let fR=0, fS=m(fP)-1;fR<=fS;fR++){ const fQ=j(fP, fR);if(typeof fQ=="object")(((fT) => { if(fT.s)fN.push(fT);})(fQ));else(((fT) => { fN.push(fT);})(fQ));} } else void 0;}
let cb=fE((fN) => class fO { static { cb=fN(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bb("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bb("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cc(fN, fO){ cd(fN, fO, null);}
function cd(fN, fO, fP){ while(true){ if(fO!=null&&fO.$==1)return ci(fN, fO.$0.El, fP);else if(fO!=null&&fO.$==2){ const fQ=fO.$0;fQ.Dirty=false;fO=fQ.Current;} else if(fO==null)return fP;else if(fO!=null&&fO.$==4)return ci(fN, fO.$0.Text, fP);else if(fO!=null&&fO.$==5)return ci(fN, fO.$0, fP);else if(fO!=null&&fO.$==6)return G((fT, fU) =>((((fV) =>(fW) =>(fX) => fW==null||fW.constructor===Object?cd(fV, fW, fX):ci(fV, fW, fX))(fN))(fT))(fU), fO.$0.Els, fP);else { const fR=fO.$1;const fS=fO.$0;fO=fS;fP=cd(fN, fR, fP);} } }
function ce(fN, fO){ return d9(d_(), cj(fN, dp(), fO));}
function cf(fN, fO, fP){ if(c_()){ const fQ=null;return ef(() => { const fR=d$(fP);const fS=cn(fO, fR);const fT=cm(fO, fR);return eg(c$(da(fS, cl(fO, fR))), () => eg(ck(fN, fO), () => eg(c$(fT), () => { fO.PreviousNodes=fR;return ej(null);})));});} else return ck(fN, fO);}
function cg(fN, fO, fP){ const fQ=d$(fP);co(fN, fO.Top);fO.PreviousNodes=fQ;}
function ch(fN, fO){ const fP=fN.parentNode;const fQ=globalThis.document.createTextNode("");fP.insertBefore(fQ, fN);cr(fN, fO);return fQ;}
function ci(fN, fO, fP){ c4(fN, fP, fO);return fO;}
function cj(fN, fO, fP){ cc(fN, fP);const fQ=dj(fN, fO);return cw.New(fQ, fP, null, fN, cx(), fH(fQ.OnAfterRender));}
function ck(fN, fO){ if(df()){ const fP=(fQ) => { requestAnimationFrame(() => { co(fN, fO.Top);fQ();});};return eo((fQ, fR, fS) => fP.apply(null, [fQ, fR, fS]));} else { co(fN, fO.Top);return ej(null);} }
function cl(fN, fO){ return dd(H((fP) => dr(fP.Attr), ed(ec(fO, eb((fP) => dq(fP.Attr), fN.PreviousNodes)))));}
function cm(fN, fO){ return dd(H((fP) => dt(fP.Attr), ed(ec(fN.PreviousNodes, eb((fP) => ds(fP.Attr), fO)))));}
function cn(fN, fO){ const fP=(fR) => du(fR.Attr);const fQ=(fR) => eb(fP, fR);return dd(H((fR) => dv(fR.Attr), ed(ee(fQ(fN.PreviousNodes), fQ(fO)))));}
function co(fN, fO){!fN?cs(fO):void 0;ct(fO.Children);cu(fO);}
function cp(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cq(fN, fO){ fN.Value=fO;fN.Dirty=true;}
function cr(fN, fO){ cd(fN.parentNode, fO, fN);}
function cs(fN){ function fO(fP){ function fQ(fR){ while(true){ if(fR!=null&&fR.$==0){ const fS=fR.$1;const fT=fR.$0;if(fQ(fT))return true;else fR=fS;} else if(fR!=null&&fR.$==2){ const fU=fR.$0;if(fU.Dirty)return true;else fR=fU.Current;} else if(fR!=null&&fR.$==6){ const fV=fR.$0;return fV.Dirty||D(fO, fV.Holes);} else return false;} } return fQ(fP.Children);} dy(fN.El, fN.Attr);if(fO(fN))cv(fN);}
function ct(fN){ while(true){ if(fN!=null&&fN.$==1)return co(false, fN.$0);else if(fN!=null&&fN.$==2){ const fO=fN.$0;fN=fO.Current;} else if(fN==null)return null;else if(fN!=null&&fN.$==5)return null;else if(fN!=null&&fN.$==4){ const fP=fN.$0;return fP.Dirty?(fP.Text.nodeValue=fP.Value,fP.Dirty=false):null;} else if(fN!=null&&fN.$==6){ const fQ=fN.$0;F((fT) => { co(false, fT);}, fQ.Holes);F((fT) => { dy(fT[0], fT[1]);}, fQ.Attrs);return cu(fQ);} else { const fR=fN.$1;const fS=fN.$0;ct(fS);fN=fR;} } }
function cu(fN){ const fO=fH(fN.Render);if(fO!=null&&fO.$==1){ fO.$0(fN.El);fG(fN, "Render", null);} }
function cv(fN){ const fO=fN.El;function fP(fT, fU){ while(true){ if(fT!=null&&fT.$==1)return fT.$0.El;else if(fT!=null&&fT.$==2){ const fV=fT.$0;if(fV.Dirty){ fV.Dirty=false;return cd(fO, fV.Current, fU);} else fT=fV.Current;} else if(fT==null)return fU;else if(fT!=null&&fT.$==4)return fT.$0.Text;else if(fT!=null&&fT.$==5)return fT.$0;else if(fT!=null&&fT.$==6){ const fW=fT.$0;if(fW.Dirty)fW.Dirty=false;return G((fZ, f0) => fZ==null||fZ.constructor===Object?fP(fZ, f0):fZ, fW.Els, fU);} else { const fX=fT.$1;const fY=fT.$0;fT=fY;fU=fP(fX, fU);} } } const fQ=fN.El;fq((fT) => { c5(fQ, fT);}, fp(fr(fN), fo(fN.El, fH(fN.Delimiters))));let fR=fN.Children;const fS=fH(fN.Delimiters);fP(fR, fS!=null&&fS.$==1?fS.$0[1]:null);}
let cw=fE((fN) => class fO { static { cw=fN(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(fP){ return this.ElKey===fP.ElKey;} GetHashCode(){ return this.ElKey;} static New(fP, fQ, fR, fS, fT, fU){ const fV={Attr:fP, Children:fQ, El:fS, ElKey:fT};let fW=(fG(fV, "Delimiters", fR),fG(fV, "Render", fU),fV);return fL(cw, fW);} });
function cx(){ cy(cz()+1);return cz();}
function cy(fN){ eA.counter=fN;}
function cz(){ return eA.counter;}
function cA(fN, fO){ return{$:2, $0:fN, $1:fO};}
function cB(fN){ return{$:0, $0:fN};}
function cC(fN, fO){ return{$:3, $0:fN, $1:fO};}
let cD=fE((fN) => { fK($);return class fO extends $ { static { cD=fN(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(fP, fQ){ const fR=d7.Create(fQ);const fS=H((fV) => dk(fV[1]), fP.Attrs);let fT=d4(cE(), cK, fS);let fU=cK(fT, fR.v);return new fO(bD(fP), fU, j(fP.Els, 0), fR);} constructor(fP, fQ, fR, fS){ super(fP, fQ);this.docNode_1=fP;this.updates_1=fQ;this.elt=fR;this.rvUpdates=fS;} };});
function cE(fN){ const fO={s:cB(fN)};return() => fO;}
function cF(fN, fO){ function fP(){ bQ(fO(), fN, () => { ek().Fork(fP);});} ek().Fork(fP);}
function cG(fN, fO){ return cL(() => bR(fN, fO()));}
function cH(fN, fO, fP, fQ){ return cL(() => bS(fN, fO(), fP(), fQ()));}
function cI(fN){ return cL(() => bT(bi((fO) => fO(), fN)));}
function cJ(fN, fO, fP){ return cL(() => bU(fN, fO(), fP()));}
function cK(fN, fO){ return cL(() => bV(fN(), fO()));}
function cL(fN){ const fO={c:null, o:fN};return() => { let fP=fO.c;if(fP===null){ fP=fO.o();fO.c=fP;const fQ=fP.s;if(fQ!=null&&fQ.$==0)fO.o=null;else bX(fP, () => { fO.c=null;});return fP;} else return fP;};}
function cM(fN){ let fO=null;let fP=0;const fQ=fN.textContent;const fR=new RegExp(u0039(), "g");while(fO=fR.exec(fQ),fO!==null){ fN.parentNode.insertBefore(globalThis.document.createTextNode(cU(fQ, R(fP), R(fR.lastIndex-j(fO, 0).length-1))), fN);fP=fR.lastIndex;const fS=globalThis.document.createElement("span");fS.setAttribute("ws-replace", j(fO, 1).toLowerCase());fN.parentNode.insertBefore(fS, fN);} fR.lastIndex=0;fN.textContent=cU(fQ, R(fP), null);}
function cN(fN){ console.warn("Instantiating non-loaded template", fN);}
function cO(fN, fO, fP){ const fQ=fN.querySelector("[ws-replace]");return o(fQ, null)?(console.warn("Filling non-existent text hole", fP),null):(fQ.parentNode.replaceChild(globalThis.document.createTextNode(fO), fQ),R(fQ.getAttribute("ws-replace")));}
function cP(fN, fO){ const fP=(fQ) => { u0036(fN, "["+fQ+"]", (fR) => { if(!fO.Contains(fR.getAttribute(fQ)))fR.removeAttribute(fQ);});};fP("ws-attr");fP("ws-onafterrender");fP("ws-var");u0036(fN, "[ws-hole]", (fQ) => { if(!fO.Contains(fQ.getAttribute("ws-hole"))){ fQ.removeAttribute("ws-hole");while(fQ.hasChildNodes())fQ.removeChild(fQ.lastChild);} });u0036(fN, "[ws-replace]", (fQ) => { if(!fO.Contains(fQ.getAttribute("ws-replace")))fQ.parentNode.removeChild(fQ);});u0036(fN, "[ws-on]", (fQ) => { fQ.setAttribute("ws-on", dW(" ", I((fR) => fO.Contains(j(dX(fR, [":"], 1), 1)), dX(fQ.getAttribute("ws-on"), [" "], 1))));});u0036(fN, "[ws-attr-holes]", (fQ) => { const fR=dX(fQ.getAttribute("ws-attr-holes"), [" "], 1);for(let fV=0, fW=fR.length-1;fV<=fW;fV++){ const fS=j(fR, fV);let fT=new RegExp(u0039(), "g");let fU=fQ.getAttribute(fS).replace(fT, (fX, fY) => fO.Contains(fY)?fX:"");fQ.setAttribute(fS, fU);} });}
function cQ(fN, fO){ cT(fO);const fP=fO.nodeName.toLowerCase();const fQ=fN.querySelector("[ws-attr="+fP+"]");if(o(fQ, null))console.warn("Filling non-existent attr hole", fP);else { fQ.removeAttribute("ws-attr");for(let fS=0, fT=fO.attributes.length-1;fS<=fT;fS++){ const fR=fO.attributes.item(fS);if(fR.name=="class"&&fQ.hasAttribute("class"))fQ.setAttribute("class", fQ.getAttribute("class")+" "+fR.nodeValue);else fQ.setAttribute(fR.name, fR.nodeValue);} } }
function cR(fN, fO){ const fP=(fQ) => { u0036(fN, "["+fQ+"]", (fR) => { let fS;const fT=(fS=null,[fO.TryGetValue(fR.getAttribute(fQ).toLowerCase(), {get:() => fS, set:(fU) => { fS=fU;}}), fS]);if(fT[0])fR.setAttribute(fQ, fT[1]);});};fP("ws-hole");fP("ws-replace");fP("ws-attr");fP("ws-onafterrender");fP("ws-var");u0036(fN, "[ws-on]", (fQ) => { fQ.setAttribute("ws-on", dW(" ", H((fR) => { let fS;const fT=dX(fR, [":"], 1);const fU=(fS=null,[fO.TryGetValue(j(fT, 1), {get:() => fS, set:(fV) => { fS=fV;}}), fS]);return fU[0]?j(fT, 0)+":"+fU[1]:fR;}, dX(fQ.getAttribute("ws-on"), [" "], 1))));});u0036(fN, "[ws-attr-holes]", (fQ) => { const fR=dX(fQ.getAttribute("ws-attr-holes"), [" "], 1);for(let fS=0, fT=fR.length-1;fS<=fT;fS++)((() => { const fU=j(fR, fS);return fQ.setAttribute(fU, bg((fV, fW) => { const fX=f(fW);return fV.replace(new RegExp("\\${"+fX[0]+"}", "ig"), "${"+fX[1]+"}");}, fQ.getAttribute(fU), fO));})());});}
function cS(fN, fO, fP){ while(true){ if(fN.hasChildNodes())fP=fO.insertBefore(fN.lastChild, fP);else return null;} }
function cT(fN){ const fO=fN.attributes;const fP=[];const fQ=[];const fR=[];for(let fW=0, fX=fO.length-1;fW<=fX;fW++){ const fS=fO.item(fW);if(dY(fS.nodeName, "ws-on")&&fS.nodeName!="ws-onafterrender"&&fS.nodeName!="ws-on"){ fP.push(fS.nodeName);fQ.push(cU(fS.nodeName, R("ws-on".length), null)+":"+fS.nodeValue.toLowerCase());} else if(!dY(fS.nodeName, "ws-")&&(new RegExp(u0039())).test(fS.nodeValue)){ let fT=new RegExp(u0039(), "g");let fU=fS.nodeValue.replace(fT, (fY, fZ) =>"${"+fZ.toLowerCase()+"}");fS.nodeValue=fU;fR.push(fS.nodeName);} else void 0;} if(!(fQ.length==0))fN.setAttribute("ws-on", dW(" ", fQ));if(!(fR.length==0))fN.setAttribute("ws-attr-holes", dW(" ", fR));const fV=(fY) => { const fZ=fN.getAttribute(fY);if(fZ==null){ } else fN.setAttribute(fY, fZ.toLowerCase());};fV("ws-hole");fV("ws-replace");fV("ws-attr");fV("ws-onafterrender");fV("ws-var");F((fY) => { fN.removeAttribute(fY);}, fP);}
function cU(fN, fO, fP){ if(fO==null){ if(fP!=null&&fP.$==1){ const fQ=fP.$0;return fQ<0?"":fN.slice(0, fQ+1);} else return"";} else if(fP==null)return fN.slice(fO.$0);else { const fR=fP.$0;return fR<0?"":fN.slice(fO.$0, fR+1);} }
function cV(fN){ const fO=globalThis.document.createElement("div");if(!cX().test(fN)){ fO.appendChild(globalThis.document.createTextNode(fN));return fO;} else { const fP=c1().exec(fN);const fQ=o(fP, null)?"":j(fP, 1).toLowerCase();const fR=(cY())[fQ];const fS=fR?fR:cZ();fO.innerHTML=fS[1]+fN.replace(c0(), "<$1></$2>")+fS[2];function fT(fU, fV){ while(true){ if(fV===0)return fU;else { const fW=fV;fU=fU.lastChild;fV=fW-1;} } } return fT(fO, fS[0]);} }
function cW(fN){ const fO=[];for(let fP=0, fQ=fN.childNodes.length-1;fP<=fQ;fP++)fO.push(fN.childNodes[fP]);return fO;}
function cX(){ return eB.rhtml;}
function cY(){ return eB.wrapMap;}
function cZ(){ return eB.defaultWrap;}
function c0(){ return eB.rxhtmlTag;}
function c1(){ return eB.rtagName;}
function c2(fN, fO, fP){ const fQ=fN.querySelectorAll(fO);for(let fR=0, fS=fQ.length-1;fR<=fS;fR++)fP(fQ[fR]);}
function c3(fN, fO){ const fP=globalThis.document.querySelectorAll(fN);for(let fQ=0, fR=fP.length-1;fQ<=fR;fQ++)fO(fP[fQ]);}
function c4(fN, fO, fP){ let fQ;if(fP.parentNode===fN){ const fR=fP.nextSibling;let fS=o(fR, null)?null:fR;fQ=fO===fS;} else fQ=false;if(!fQ)fN.insertBefore(fP, fO);}
function c5(fN, fO){ if(fO.parentNode===fN)fN.removeChild(fO);}
function c6(){ return e("The input sequence has an insufficient number of elements.");}
function c7(fN, fO){ let fP=true;let fQ=0;while(fP&&fQ<m(fO))if(o(fO[fQ], fN))fP=false;else fQ=fQ+1;return!fP;}
function c8(){ return e("The input must be non-negative.");}
let c9=fE((fN) => class fO extends h { static { c9=fN(this);} d;GetEnumerator(){ return bJ(bi((fP) => fP.K, this.d));} constructor(fP){ super();this.d=fP;} });
function c_(){ return eq();}
function c$(fN){ const fO=null;return ef(() => eg(db(() => { }, er(fN)), () => { es(fN);return ej(null);}));}
function da(fN, fO){ return dc(eD(fN.$0, fO.$0));}
function db(fN, fO){ const fP=fO.Duration;if(fP===0)return eh();else { const fQ=(fR) => { function fS(fT){ return(fU) => { const fV=fU-fT;fO.Compute(fV);fN();return fV<=fP?void requestAnimationFrame((fW) => {(fS(fT))(fW);}):fR();};} requestAnimationFrame((fT) => {(fS(fT))(fT);});};return eo((fR, fS, fT) => fQ.apply(null, [fR, fS, fT]));} }
function dc(fN){ return{$:0, $0:fN};}
function dd(fN){ return dc(eF(bi(eu, fN)));}
function de(){ return dc(eG());}
function df(){ return ey.BatchUpdatesEnabled;}
function dg(fN){ const fO=[0];function fP(){ const fQ=null;return ef(() => eg(fN, () => { const fR=fO[0];return o(fR, 1)?(fO[0]=0,eh()):o(fR, 2)?(fO[0]=1,fP()):eh();}));} return() => { const fQ=fO[0];if(o(fQ, 0)){ fO[0]=1;ei(fP(), null);} else o(fQ, 1)?fO[0]=2:void 0;};}
function dh(fN, fO, fP, fQ){ const fR={DynElem:fN, DynFlags:fO, DynNodes:fP};fG(fR, "OnAfterRender", fQ);return fR;}
function di(fN){ let fO;const fP=fN.s;if(fP==null||(fP!=null&&fP.$==2?(fO=fP.$1,false):fP!=null&&fP.$==3?(fO=fP.$1,false):true))void 0;else { fN.s=null;for(let fR=0, fS=m(fO)-1;fR<=fS;fR++){ const fQ=j(fO, fR);if(typeof fQ=="object")(((fT) => { di(fT);})(fQ));else fQ();} } }
function dj(fN, fO){ const fP=[];const fQ=[];function fR(fU){ while(true){ if(!(fU===null)){ if(fU!=null&&fU.$==1)return fP.push(fU.$0);else if(fU!=null&&fU.$==2){ const fV=fU.$1;const fW=fU.$0;fR(fW);fU=fV;} else return fU!=null&&fU.$==3?fU.$0(fN):fU!=null&&fU.$==4?fQ.push(fU.$0):null;} else return null;} } fR(fO);const fS=fP.slice(0);let fT=dh(fN, dm(fO), fS, fQ.length===0?null:R((fU) => { bh((fV) => { fV(fU);}, fQ);}));return fT;}
function dk(fN){ return d5((fO) => fO.NChanged, cE(), cK, fN.DynNodes);}
function dl(fN){ return dh(fN, 0, [], null);}
function dm(fN){ return fN!==null&&fN.hasOwnProperty("flags")?fN.flags:0;}
function dn(fN){ return dQ.A3(fN);}
function do_1(fN, fO){ return dQ.A1(new eH(fN, fO));}
function dp(){ return eJ.EmptyAttr;}
function dq(fN){ const fO=2;return(fN.DynFlags&fO)===fO;}
function dr(fN){ return dx(fN, (fO, fP) => fO.NGetExitAnim(fP));}
function ds(fN){ const fO=1;return(fN.DynFlags&fO)===fO;}
function dt(fN){ return dx(fN, (fO, fP) => fO.NGetEnterAnim(fP));}
function du(fN){ const fO=4;return(fN.DynFlags&fO)===fO;}
function dv(fN){ return dx(fN, (fO, fP) => fO.NGetChangeAnim(fP));}
function dw(fN, fO){ if(fN===null)return fO;else if(fO===null)return fN;else { const fP=dQ.A2(fN, fO);dz(fP, dm(fN)|dm(fO));return fP;} }
function dx(fN, fO){ return dd(H((fP) => fO(fP, fN.DynElem), fN.DynNodes));}
function dy(fN, fO){ F((fP) => { fP.NSync(fN);}, fO.DynNodes);}
function dz(fN, fO){ fN.flags=fO;}
let dA=fE((fN) => { fK(bc);return class fO extends bc { static { dA=fN(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dB=fE((fN) => { fK(bc);return class fO extends bc { static { dB=fN(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return dT(this.fillWith);} };});
let dC=fE((fN) => { fK(bc);return class fO extends bc { static { dC=fN(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dD=fE((fN) => { fK(bc);return class fO extends bc { static { dD=fN(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function dE(fN, fO){ return dn((fP) => { fP.addEventListener(fN, (fQ) =>(fO(fP))(fQ), false);});}
function dF(fN){ return dQ.A4(fN);}
function dG(fN, fO){ return do_1(fO, (fP) =>(fQ) => fP.setAttribute(fN, fQ));}
function dH(fN){ return dN(ff(), fN);}
function dI(fN){ return dN(fg(), fN);}
function dJ(fN){ return dN(fh(), fN);}
function dK(fN){ return dN(fi(), fN);}
function dL(fN){ return dN(fj(), fN);}
function dM(fN){ return dN(fk(), fN);}
function dN(fN, fO){ const fP=fN(fO);return dQ.Append(dn(fP[0]), dO(fP[1], fP[2]));}
function dO(fN, fO){ return do_1(fO, fN);}
let dP=fE((fN) => { fK(bc);return class fO extends bc { static { dP=fN(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dQ=fE((fN) => class fO { static { dQ=fN(this);} static Handler(fP, fQ){ return dQ.HandlerImpl(fP, fQ);} static Concat(fP){ const fQ=d6(fP);return d4(dp(), dQ.Append, fQ);} static Create(fP, fQ){ return dn((fR) => { fR.setAttribute(fP, fQ);});} static HandlerImpl(fP, fQ){ return dn((fR) => { fR.addEventListener(fP, (fS) =>(fQ(fR))(fS), false);});} static Append(fP, fQ){ return dw(fP, fQ);} static A4(fP){ return fL(fO, {$:4, $0:fP});} static A3(fP){ return fL(fO, {$:3, $0:fP});} static A1(fP){ return fL(fO, {$:1, $0:fP});} static A2(fP, fQ){ return fL(fO, {$:2, $0:fP, $1:fQ});} });
let dR=fE((fN) => { fK(bc);return class fO extends bc { static { dR=fN(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dS=fE((fN) => { fK(bc);return class fO extends bc { static { dS=fN(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function dT(fN){ return{$:0, $0:fN};}
function dU(fN){ return{$:1, $0:fN};}
let dV=fE((fN) => class fO { static { dV=fN(this);} static Cons(fP, fQ){ return fL(fO, {$:1, $0:fP, $1:fQ});} static Empty=fL(dV, {$:0});GetEnumerator(){ return new bN(this, null, (fP) => { const fQ=fP.s;return fQ.$==0?false:(fP.c=fQ.$0,fP.s=fQ.$1,true);}, void 0);} });
function dW(fN, fO){ return J(fO).join(fN);}
function dX(fN, fO, fP){ return dZ(fN, new RegExp("["+d0(fO.join(""))+"]"), fP);}
function dY(fN, fO){ return fN.substring(0, fO.length)==fO;}
function dZ(fN, fO, fP){ return fP===1?I((fQ) => fQ!=="", d1(fN, fO)):d1(fN, fO);}
function d0(fN){ return fN.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function d1(fN, fO){ return fN.split(fO);}
function d2(fN, fO){ return br(fN, d3(fO));}
function d3(fN){ return fN==null?"":fN;}
function d4(fN, fO, fP){ const fQ=m(fP);function fR(fS){ return(fT) => { let fU;switch(fT<=0?0:fT===1?fS>=0&&fS<fQ?1:(fU=fT,2):(fU=fT,2)){ case 0:return fN;case 1:return j(fP, fS);case 2:const fV=fT/2>>0;return fO((fR(fS))(fV), (fR(fS+fV))(fT-fV));} };} return(fR(0))(fQ);}
function d5(fN, fO, fP, fQ){ const fR=m(fQ);function fS(fT){ return(fU) => { let fV;switch(fU<=0?0:fU===1?fT>=0&&fT<fR?1:(fV=fU,2):(fV=fU,2)){ case 0:return fO;case 1:return fN(j(fQ, fT));case 2:const fW=fU/2>>0;return fP((fS(fT))(fW), (fS(fT+fW))(fU-fW));} };} return(fS(0))(fR);}
function d6(fN){ if(fN instanceof Array)return fN;else if(fN instanceof dV)return L(fN);else if(fN===null)return[];else { const fO=[];const fP=bJ(fN);try { while(fP.MoveNext())fO.push(fP.Current);return fO;} finally { if(typeof fP=="object"&&a(fP))fP.Dispose();} } }
let d7=fE((fN) => class fO { static { d7=fN(this);} c;s;v;static Create(fP){ let fQ;fQ=null;fQ=d7.New(fP, null, () => { let fR;fR=fQ.s;return fR===null?(fR=bW(fQ.c()),fQ.s=fR,bX(fR, () => { fQ.s=null;}),fR):fR;});return fQ;} static New(fP, fQ, fR){ return fL(d7, {c:fP, s:fQ, v:fR});} });
let d8=fE((fN) => class fO extends h { static { d8=fN(this);} d;GetEnumerator(){ return bJ(bi((fP) => fP.V, this.d));} constructor(fP){ super();this.d=fP;} });
function d9(fN, fO){ return{PreviousNodes:fN, Top:fO};}
function d_(){ return ea(new bd("New_3"));}
function d$(fN){ const fO=[];function fP(fS, fT){ while(true)switch(fS){ case 0:if(fT!=null&&fT.$==0){ const fU=fT.$1;const fV=fT.$0;fP(0, fV);fT=fU;} else if(fT!=null&&fT.$==1){ const fW=fT.$0;fT=fW;fS=1;} else if(fT!=null&&fT.$==2){ const fX=fT.$0;fT=fX.Current;} else if(fT!=null&&fT.$==6){ const fY=fT.$0.Holes;return(((fZ) =>(f0) => { F(fZ, f0);})(fR))(fY);} else return null;break;case 1:fO.push(fT);fT=fT.Children;fS=0;break;} } function fQ(fS){ return fP(0, fS);} function fR(fS){ return fP(1, fS);} fQ(fN);return ea(new bd("New_2", fO));}
function ea(fN){ return{$:0, $0:fN};}
function eb(fN, fO){ return ea(eS(fN, fO.$0));}
function ec(fN, fO){ return ea(eT(fN.$0, fO.$0));}
function ed(fN){ return eU(fN.$0);}
function ee(fN, fO){ return ea(eV(fN.$0, fO.$0));}
function ef(fN){ return(fO) => { try {(fN())(fO);} catch(fP){ fO.k(eN(fP));} };}
function eg(fN, fO){ return el((fP) => { fN(eM((fQ) => { if(fQ.$==0){ const fR=fQ.$0;ek().Fork(() => { try {(fO(fR))(fP);} catch(fS){ fP.k(eN(fS));} });} else ek().Fork(() => { fP.k(fQ);});}, fP.ct));});}
function eh(){ return eQ.Zero;}
function ei(fN, fO){ const fP=(em())[0];const fQ=fO==null?fP:fO.$0;ek().Fork(() => { if(!fQ.c)fN(eM((fR) => { if(fR.$==1)en(fR.$0);}, fQ));});}
function ej(fN){ return(fO) => { fO.k(eO(fN));};}
function ek(){ return eQ.scheduler;}
function el(fN){ return(fO) => { if(fO.ct.c)ep(fO);else fN(fO);};}
function em(){ return eQ.defCTS;}
function en(fN){ console.log("WebSharper: Uncaught asynchronous exception", fN);}
function eo(fN){ return(fO) => { const fP=[false];const fQ=(fR) => { if(fP[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { fP[0]=true;ek().Fork(fR);} };fN((fR) => { fQ(() => { fO.k(eO(fR));});}, (fR) => { fQ(() => { fO.k(eN(fR));});}, (fR) => { fQ(() => { fO.k(eP(fR));});});};}
function ep(fN){ fN.k(eP(new fw("New", fN.ct)));}
function eq(){ return eC.UseAnimations;}
function er(fN){ return et(A((fO) => fO.$==1?R(fO.$0):null, eE(fN.$0)));}
function es(fN){ F((fO) => { if(fO.$==0)fO.$0();}, eE(fN.$0));}
function et(fN){ const fO=d6(fN);const fP=m(fO);if(fP===0)return ev();else if(fP===1)return j(fO, 0);else { const fQ=bl(bi((fS) => fS.Duration, fO));const fR=H((fS) => ex(fQ, fS), fO);return ew(fQ, (fS) => { F((fT) => { fT.Compute(fS);}, fR);});} }
function eu(fN){ return fN.$0;}
function ev(fN){ return ew(0, () => fN);}
function ew(fN, fO){ return{Compute:fO, Duration:fN};}
function ex(fN, fO){ const fP=fO.Compute;const fQ=fO.Duration;const fR=fx(() => fO.Compute(fO.Duration));return{Compute:(fS) => fS>=fQ?fR.f():fP(fS), Duration:fN};}
let ey=fE((fN) => class fO { static { ey=fN(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function ez(fN){ let fO=[];let fP;for(var fQ in fN)fO.push.apply(fO, fN[fQ]);return fO;}
let eA=fE((fN) => class fO { static { eA=fN(this);} static counter;static { this.counter=0;} });
let eB=fE((fN) => class fO { static { eB=fN(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fP=[1, "<table>", "</table>"];let fQ=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fP], ["tbody", fP], ["tfoot", fP], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fQ;this.defaultWrap=[0, "", ""];} });
let eC=fE((fN) => class fO { static { eC=fN(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eL.Custom((fP) => { const fQ=fP*fP;return 3*fQ-2*(fQ*fP);});this.UseAnimations=true;} });
function eD(fN, fO){ return fN.$==0?fO:fO.$==0?fN:{$:2, $0:fN, $1:fO};}
function eE(fN){ const fO=[];function fP(fQ){ while(true){ if(fQ.$==1)return fO.push(fQ.$0);else if(fQ.$==2){ const fR=fQ.$1;const fS=fQ.$0;fP(fS);fQ=fR;} else return fQ.$==3?F((fT) => { fO.push(fT);}, fQ.$0):null;} } fP(fN);return fO.slice(0);}
function eF(fN){ const fO=d6(fN);return d4(eG(), eD, fO);}
function eG(){ return fA.Empty;}
let eH=fE((fN) => class fO extends h { static { eH=fN(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fP){ return de();} NGetEnterAnim(fP){ return de();} NGetChangeAnim(fP){ return de();} NSync(fP){ if(this.dirty){(this.push(fP))(this.value);this.dirty=false;} } constructor(fP, fQ){ super();this.push=fQ;this.value=void 0;this.dirty=false;this.updates=cG((fR) => { this.value=fR;this.dirty=true;}, fP);} });
let eI=fE((fN) => { fK(Error);return class fO extends Error { static { eI=fN(this);} static New(){ return new this("New");} static New_1(fP){ return new this("New_1", fP);} constructor(fP, fQ){ if(fP=="New"){ fP="New_1";fQ="The given key was not present in the dictionary.";} if(fP=="New_1"){ const fR=fQ;super(fR);} } };});
let eJ=fE((fN) => class fO { static { eJ=fN(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f5) =>[(f6) => { f6.addEventListener("change", () => f5.Get()!=f6.checked?f5.Set(f6.checked):null);}, (f6) =>(f7) => f7!=null&&f7.$==1?void(f6.checked=f7.$0):null, cG(R, f5.View)];this.StringSet=(f5) =>(f6) => { f5.value=f6;};this.StringGet=(f5) => R(f5.value);const fP=e1();const fQ=e0();this.StringApply=(f5) => eZ(fP, fQ, f5);this.StringListSet=(f5) =>(f6) => { const f7=f5.options;for(let f8=0, f9=f7.length-1;f8<=f9;f8++)((() => { const f_=f7.item(f8);f_.selected=c7(f_.value, f6);})());};this.StringListGet=(f5) => { const f6=f5.selectedOptions;return R(J(bj(() => bk((f7) =>[f6.item(f7).value], g(0, f6.length-1)))));};const fR=e3();const fS=e2();this.StringListApply=(f5) => eZ(fR, fS, f5);this.DateTimeSetUnchecked=(f5) =>(f6) => { f5.value=(new Date(f6)).toLocaleString();};this.DateTimeGetUnchecked=(f5) => { let f6;let f7;const f8=f5.value;if(fl(f8))return R(-8640000000000000);else { f6=0;const f9=fu(f8);let f_=f9!=null&&f9.$==1&&(f6=f9.$0,true);f7=[f_, f6];return f7[0]?R(f7[1]):null;} };const fT=e5();const fU=e4();this.DateTimeApplyUnchecked=(f5) => eZ(fT, fU, f5);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f5) => { const f6=f5.files;return R(J(bj(() => bi((f7) => f6.item(f7), g(0, f6.length-1)))));};const fV=e8();const fW=e7();this.FileApplyUnchecked=(f5) => e6(fV, fW, f5);this.IntSetUnchecked=(f5) =>(f6) => { f5.value=String(f6);};this.IntGetUnchecked=(f5) => { const f6=f5.value;if(fl(f6))return R(0);else { const f7=+f6;return f7!==f7>>0?null:R(f7);} };const fX=e_();const fY=e9();this.IntApplyUnchecked=(f5) => eZ(fX, fY, f5);this.IntSetChecked=(f5) =>(f6) => { const f7=f6.Input;return f5.value!=f7?void(f5.value=f7):null;};this.IntGetChecked=(f5) => { let f6;let f7;const f8=f5.value;if(fl(f8))f6=(f5.checkValidity?f5.checkValidity():true)?fm.Blank(f8):fm.Invalid(f8);else { const f9=(f7=0,[bH(f8, {get:() => f7, set:(f_) => { f7=f_;}}), f7]);f6=f9[0]?fm.Valid(f9[1], f8):fm.Invalid(f8);} return R(f6);};const fZ=fa();const f0=e$();this.IntApplyChecked=(f5) => eZ(fZ, f0, f5);this.FloatSetUnchecked=(f5) =>(f6) => { f5.value=String(f6);};this.FloatGetUnchecked=(f5) => { const f6=f5.value;if(fl(f6))return R(0);else { const f7=+f6;return isNaN(f7)?null:R(f7);} };const f1=fc();const f2=fb();this.FloatApplyUnchecked=(f5) => eZ(f1, f2, f5);this.FloatSetChecked=(f5) =>(f6) => { const f7=f6.Input;return f5.value!=f7?void(f5.value=f7):null;};this.FloatGetChecked=(f5) => { let f6;const f7=f5.value;if(fl(f7))f6=(f5.checkValidity?f5.checkValidity():true)?fm.Blank(f7):fm.Invalid(f7);else { const f8=+f7;f6=isNaN(f8)?fm.Invalid(f7):fm.Valid(f8, f7);} return R(f6);};const f3=fe();const f4=fd();this.FloatApplyChecked=(f5) => eZ(f3, f4, f5);} });
let eK=fE((fN) => class fO extends h { static { eK=fN(this);} idle;robin;Fork(fP){ this.robin.push(fP);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fP=Date.now();let fQ=true;while(fQ)if(this.robin.length===0){ this.idle=true;fQ=false;} else {(this.robin.shift())();Date.now()-fP>40?(setTimeout(() => { this.tick();}, 0),fQ=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let eL=fE((fN) => class fO extends h { static { eL=fN(this);} transformTime;static Custom(fP){ return new fO(fP);} constructor(fP){ super();this.transformTime=fP;} });
function eM(fN, fO){ return{k:fN, ct:fO};}
function eN(fN){ return{$:1, $0:fN};}
function eO(fN){ return{$:0, $0:fN};}
function eP(fN){ return{$:2, $0:fN};}
let eQ=fE((fN) => class fO { static { eQ=fN(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=eR(false, []);this.scheduler=new eK();this.defCTS=[new fn()];this.Zero=ej();this.GetCT=(fP) => { fP.k(eO(fP.ct));};} });
function eR(fN, fO){ return{c:fN, r:fO};}
function eS(fN, fO){ return new bd("New_2", I(fN, eU(fO)));}
function eT(fN, fO){ const fP=new bd("New_2", eU(fO));fP.ExceptWith(eU(fN));return fP;}
function eU(fN){ const fO=N(fN.Count, void 0);fN.CopyTo(fO, 0);return fO;}
function eV(fN, fO){ const fP=new bd("New_2", eU(fN));fP.IntersectWith(eU(fO));return fP;}
function eW(fN){ return fN.$==1?fN.$0:eY();}
function eX(fN){ return fN.$==1?fN.$1:eY();}
function eY(){ return e("The input list was empty.");}
function eZ(fN, fO, fP){ let fQ;fQ=null;return[(fR) => { const fS=() => { fP.UpdateMaybe((fT) => { let fU;fQ=fN(fR);return fQ!=null&&fQ.$==1&&(!o(fQ.$0, fT)&&(fU=[fQ, fQ.$0],true))?fU[0]:null;});};fR.addEventListener("change", fS);fR.addEventListener("input", fS);fR.addEventListener("keypress", fS);}, (fR) => { const fS=fO(fR);return(fT) => fT==null?null:fS(fT.$0);}, cG((fR) => { let fS;return fQ!=null&&fQ.$==1&&(o(fQ.$0, fR)&&(fS=fQ.$0,true))?null:R(fR);}, fP.View)];}
function e0(){ return eJ.StringSet;}
function e1(){ return eJ.StringGet;}
function e2(){ return eJ.StringListSet;}
function e3(){ return eJ.StringListGet;}
function e4(){ return eJ.DateTimeSetUnchecked;}
function e5(){ return eJ.DateTimeGetUnchecked;}
function e6(fN, fO, fP){ let fQ;fQ=null;return[(fR) => { fR.addEventListener("change", () => { fP.UpdateMaybe((fS) => { let fT;fQ=fN(fR);return fQ!=null&&fQ.$==1&&(fQ.$0!==fS&&(fT=[fQ, fQ.$0],true))?fT[0]:null;});});}, (fR) => { const fS=fO(fR);return(fT) => fT==null?null:fS(fT.$0);}, cG((fR) => { let fS;return fQ!=null&&fQ.$==1&&(o(fQ.$0, fR)&&(fS=fQ.$0,true))?null:R(fR);}, fP.View)];}
function e7(){ return eJ.FileSetUnchecked;}
function e8(){ return eJ.FileGetUnchecked;}
function e9(){ return eJ.IntSetUnchecked;}
function e_(){ return eJ.IntGetUnchecked;}
function e$(){ return eJ.IntSetChecked;}
function fa(){ return eJ.IntGetChecked;}
function fb(){ return eJ.FloatSetUnchecked;}
function fc(){ return eJ.FloatGetUnchecked;}
function fd(){ return eJ.FloatSetChecked;}
function fe(){ return eJ.FloatGetChecked;}
function ff(){ return eJ.StringApply;}
function fg(){ return eJ.FloatApplyUnchecked;}
function fh(){ return eJ.BoolCheckedApply;}
function fi(){ return eJ.DateTimeApplyUnchecked;}
function fj(){ return eJ.FileApplyUnchecked;}
function fk(){ return eJ.StringListApply;}
function fl(fN){ return d2(ft, fN);}
let fm=fE((fN) => class fO { static { fm=fN(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fP){ return fL(fO, {$:2, $0:fP});} static Invalid(fP){ return fL(fO, {$:1, $0:fP});} static Valid(fP, fQ){ return fL(fO, {$:0, $0:fP, $1:fQ});} });
let fn=fE((fN) => class fO extends h { static { fn=fN(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
function fo(fN, fO){ let fP;if(fO!=null&&fO.$==1){ const fQ=[];fP=fO.$0[0].nextSibling;while(fP!==fO.$0[1]){ fQ.push(fP);fP=fP.nextSibling;} return fs(fQ);} else { let fR=fN.childNodes.length;const fS=fN.childNodes;let fT=O(fR, (fU) => fS[fU]);return fs(fT);} }
function fp(fN, fO){ const fP=fN.$0;return fs(I((fQ) => M((fR) =>!(fQ===fR), fP), fO.$0));}
function fq(fN, fO){ F(fN, fO.$0);}
function fr(fN){ const fO=[];function fP(fQ){ while(true){ if(fQ!=null&&fQ.$==2){ const fR=fQ.$0;fQ=fR.Current;} else if(fQ!=null&&fQ.$==1)return fO.push(fQ.$0.El);else if(fQ==null)return null;else if(fQ!=null&&fQ.$==5)return fO.push(fQ.$0);else if(fQ!=null&&fQ.$==4)return fO.push(fQ.$0.Text);else if(fQ!=null&&fQ.$==6){ const fS=fQ.$0.Els;return(((fV) =>(fW) => { F(fV, fW);})((fV) => { if(fV==null||fV.constructor===Object)fP(fV);else fO.push(fV);}))(fS);} else { const fT=fQ.$1;const fU=fQ.$0;fP(fU);fQ=fT;} } } fP(fN.Children);return fs(d6(fO));}
function fs(fN){ return{$:0, $0:fN};}
function ft(fN){ return fN.match(new RegExp("\\s"))!==null;}
function fu(fN){ const fO=Date.parse(fN);return isNaN(fO)?null:R(fO);}
function fv(fN, fO, fP, fQ){ const fR=+fN;const fS=fR===fR-fR%1&&fR>=fO&&fR<=fP;if(fS)fQ.set(fR);return fS;}
let fw=fE((fN) => { fK(Error);return class fO extends Error { static { fw=fN(this);} ct;static New(fP){ return new this("New", fP);} static New_1(fP, fQ, fR){ return new this("New_1", fP, fQ, fR);} constructor(fP, fQ, fR, fS){ let fT;if(fP=="New"){ fT=fQ;fP="New_1";fQ="The operation was canceled.";fR=null;fS=fT;} if(fP=="New_1"){ const fU=fQ;const fV=fR;const fW=fS;super(fU);this.inner=fV;this.ct=fW;} } };});
function fx(fN){ return fC(false, fN, fy);}
function fy(){ const fN=this.v();this.c=true;this.v=fN;this.f=fz;return fN;}
function fz(){ return this.v;}
let fA=fE((fN) => class fO { static { fA=fN(this);} static Empty;static { this.Empty={$:0};} });
function fB(fN){ fN.splice(0, m(fN));}
function fC(fN, fO, fP){ return{c:fN, v:fO, f:fP};}
fM(() => { b();});
fD();

